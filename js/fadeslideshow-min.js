var fadeSlideShow_descpanel={controls:[["x.png",7,7],["restore.png",10,11],["loading.gif",54,55]],fontStyle:"normal 11px Verdana",slidespeed:200};function fadeSlideShow(e){this.setting=e,e=null;var i=this.setting;i.fadeduration=i.fadeduration?parseInt(i.fadeduration):500,i.curimage=i.persist?fadeSlideShow.routines.getCookie("gallery-"+i.wrapperid):0,i.curimage=i.curimage||0,i.currentstep=0,i.totalsteps=i.imagearray.length*(i.displaymode.cycles>0?i.displaymode.cycles:1/0),i.fglayer=0,i.bglayer=1,i.oninit=i.oninit||function(){},i.onslide=i.onslide||function(){},i.displaymode.randomize&&i.imagearray.sort((function(){return.5-Math.random()}));var t=[];i.longestdesc="";for(var a=0;a<i.imagearray.length;a++)t[a]=new Image,t[a].src=i.imagearray[a][0],i.imagearray[a][3]&&i.imagearray[a][3].length>i.longestdesc.length&&(i.longestdesc=i.imagearray[a][3]);var s=fadeSlideShow_descpanel.controls[0];i.closebutton="always"==i.descreveal?'<img class="close" src="'+s[0]+'" style="float:right;cursor:hand;cursor:pointer;width:'+s[1]+"px;height:"+s[2]+'px;margin-left:2px" title="Hide Description" />':"";var n=this;jQuery(document).ready((function(e){var i=n.setting,t=fadeSlideShow.routines.getFullHTML(i.imagearray);if(i.$wrapperdiv=e("#"+i.wrapperid).css({position:"relative",visibility:"visible",background:"transparent",overflow:"hidden",width:i.dimensions[0],height:i.dimensions[1]}).empty(),0!=i.$wrapperdiv.length){i.$gallerylayers=e('<div class="gallerylayer"></div><div class="gallerylayer"></div>').css({position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"transparent"}).appendTo(i.$wrapperdiv);var a=e('<img src="'+fadeSlideShow_descpanel.controls[2][0]+'" style="position:absolute;width:'+fadeSlideShow_descpanel.controls[2][1]+";height:"+fadeSlideShow_descpanel.controls[2][2]+'" />').css({left:i.dimensions[0]/2-fadeSlideShow_descpanel.controls[2][1]/2,top:i.dimensions[1]/2-fadeSlideShow_descpanel.controls[2][2]}).appendTo(i.$wrapperdiv),s=i.$gallerylayers.html(t).find("img").hide().eq(i.curimage);""!=i.longestdesc&&"none"!=i.descreveal&&(fadeSlideShow.routines.adddescpanel(e,i),"always"==i.descreveal?(i.$descpanel.css({top:i.dimensions[1]-i.panelheight}),i.$descinner.click((function(e){"close"==e.target.className&&n.showhidedescpanel("hide")})),i.$restorebutton.click((function(i){n.showhidedescpanel("show"),e(this).css({visibility:"hidden"})}))):"ondemand"==i.descreveal&&(i.$wrapperdiv.bind("mouseenter",(function(){n.showhidedescpanel("show")})),i.$wrapperdiv.bind("mouseleave",(function(){n.showhidedescpanel("hide")})))),i.$wrapperdiv.bind("mouseenter",(function(){i.ismouseover=!0})),i.$wrapperdiv.bind("mouseleave",(function(){i.ismouseover=!1})),s.get(0).complete?(a.hide(),n.paginateinit(e),n.showslide(i.curimage)):(a.hide(),n.paginateinit(e),s.bind("load",(function(){n.showslide(i.curimage)}))),i.oninit.call(n),e(window).bind("unload",(function(){n.setting.persist&&fadeSlideShow.routines.setCookie("gallery-"+i.wrapperid,i.curimage),jQuery.each(n.setting,(function(e){if(n.setting[e]instanceof Array)for(var i=0;i<n.setting[e].length;i++)"DIV"==n.setting[e][i].tagName&&(n.setting[e][i].innerHTML=null),n.setting[e][i]=null})),n=n.setting=null}))}else alert('Error: DIV with ID "'+i.wrapperid+'" not found on page.')}))}jQuery.noConflict(),fadeSlideShow.prototype={navigate:function(e){var i=this.setting;clearTimeout(i.playtimer),"auto"==i.displaymode.type&&(i.displaymode.type="manual",i.displaymode.wraparound=!0),isNaN(parseInt(e))?/(prev)|(next)/i.test(e)&&this.showslide(e.toLowerCase()):this.showslide(parseInt(e))},showslide:function(e){var i=this,t=i.setting;if("auto"==t.displaymode.type&&t.ismouseover&&t.currentstep<=t.totalsteps)t.playtimer=setTimeout((function(){i.showslide("next")}),t.displaymode.pause);else{var a=t.imagearray.length,s="next"==e?t.curimage<a-1?t.curimage+1:0:"prev"==e?t.curimage>0?t.curimage-1:a-1:Math.min(e,a-1),n=t.$gallerylayers.eq(t.bglayer).find("img").hide().eq(s).show(),o=[n.width(),n.height()];n.css({marginLeft:o[0]>0&&o[0]<t.dimensions[0]?t.dimensions[0]/2-o[0]/2:0}),n.css({marginTop:o[1]>0&&o[1]<t.dimensions[1]?t.dimensions[1]/2-o[1]/2:0}),"peekaboo"==t.descreveal&&""!=t.longestdesc&&(clearTimeout(t.hidedesctimer),i.showhidedescpanel("hide",0)),t.$gallerylayers.eq(t.bglayer).css({zIndex:1e3,opacity:0}).stop().css({opacity:0}).animate({opacity:1},t.fadeduration,(function(){clearTimeout(t.playtimer);try{t.onslide.call(i,t.$gallerylayers.eq(t.fglayer).get(0),t.curimage)}catch(e){alert('Fade In Slideshow error: An error has occured somwhere in your code attached to the "onslide" event: '+e)}"peekaboo"==t.descreveal&&""!=t.longestdesc&&(i.showhidedescpanel("show"),t.hidedesctimer=setTimeout((function(){i.showhidedescpanel("hide")}),t.displaymode.pause-fadeSlideShow_descpanel.slidespeed)),t.currentstep+=1,"auto"==t.displaymode.type&&(t.currentstep<=t.totalsteps||0==t.displaymode.cycles)&&(t.playtimer=setTimeout((function(){i.showslide("next")}),t.displaymode.pause))})),t.$gallerylayers.eq(t.fglayer).css({zIndex:999}),t.fglayer=t.bglayer,t.bglayer=0==t.bglayer?1:0,t.curimage=s,t.$descpanel&&(t.$descpanel.css({visibility:t.imagearray[s][3]?"visible":"hidden"}),t.imagearray[s][3]&&t.$descinner.empty().html(t.closebutton+t.imagearray[s][3])),"manual"!=t.displaymode.type||t.displaymode.wraparound||this.paginatecontrol(),t.$status&&t.$status.html(t.curimage+1+"/"+a)}},showhidedescpanel:function(e,i){var t=this.setting,a="show"==e?t.dimensions[1]-t.panelheight:this.setting.dimensions[1];t.$descpanel.stop().animate({top:a},void 0!==i?i:fadeSlideShow_descpanel.slidespeed,(function(){"always"==t.descreveal&&"hide"==e&&t.$restorebutton.css({visibility:"visible"})}))},paginateinit:function(e){var i=this,t=this.setting;t.togglerid&&(t.$togglerdiv=e("#"+t.togglerid),t.$prev=t.$togglerdiv.find(".prev").data("action","prev"),t.$next=t.$togglerdiv.find(".next").data("action","next"),t.$prev.add(t.$next).click((function(t){var a=e(this);i.navigate(a.data("action")),t.preventDefault()})),t.$status=t.$togglerdiv.find(".status"))},paginatecontrol:function(){var e=this.setting;e.$prev.css({opacity:0==e.curimage?.4:1}).data("action",0==e.curimage?"none":"prev"),e.$next.css({opacity:e.curimage==e.imagearray.length-1?.4:1}).data("action",e.curimage==e.imagearray.length-1?"none":"next"),8==document.documentMode&&(e.$prev.find("img:eq(0)").css({opacity:0==e.curimage?.4:1}),e.$next.find("img:eq(0)").css({opacity:e.curimage==e.imagearray.length-1?.4:1}))}},fadeSlideShow.routines={getSlideHTML:function(e){var i=e[1]?'<a href="'+e[1]+'" target="'+e[2]+'">\n':"";return i+='<img src="'+e[0]+'" style="border-width:0;" />\n',i+=e[1]?"</a>\n":""},getFullHTML:function(e){for(var i="",t=0;t<e.length;t++)i+=this.getSlideHTML(e[t]);return i},adddescpanel:function(e,i){i.$descpanel=e('<div class="fadeslidedescdiv"></div>').css({position:"absolute",visibility:"hidden",width:"100%",left:0,top:i.dimensions[1],font:fadeSlideShow_descpanel.fontStyle,zIndex:"1001"}).appendTo(i.$wrapperdiv),e('<div class="descpanelbg"></div><div class="descpanelfg"></div>').css({position:"absolute",left:0,top:0,width:i.$descpanel.width()-8,padding:"4px"}).eq(0).css({background:"black",opacity:.7}).end().eq(1).css({color:"white"}).html(i.closebutton+i.longestdesc).end().appendTo(i.$descpanel),i.$descinner=i.$descpanel.find("div.descpanelfg"),i.panelheight=i.$descinner.outerHeight(),i.$descpanel.css({height:i.panelheight}).find("div").css({height:"100%"}),"always"==i.descreveal&&(i.$restorebutton=e('<img class="restore" title="Restore Description" src="'+fadeSlideShow_descpanel.controls[1][0]+'" style="position:absolute;visibility:hidden;right:0;bottom:0;z-index:1002;width:'+fadeSlideShow_descpanel.controls[1][1]+"px;height:"+fadeSlideShow_descpanel.controls[1][2]+'px;cursor:pointer;cursor:hand" />').appendTo(i.$wrapperdiv))},getCookie:function(e){var i=new RegExp(e+"=[^;]+","i");return document.cookie.match(i)?document.cookie.match(i)[0].split("=")[1]:null},setCookie:function(e,i){document.cookie=e+"="+i+";path=/"}};